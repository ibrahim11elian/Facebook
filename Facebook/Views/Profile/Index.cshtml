@model IEnumerable<Facebook.Models.Post>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/home.css" rel="stylesheet" crossorigin="anonymous">

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@foreach (var item in Model)
{
    <div class="container mt-5 mb-5 ">
        <div class="row d-flex align-items-center justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="d-flex justify-content-between p-2 px-3">
                        <div class="d-flex flex-row align-items-center">
                            <img src="@Url.Content(item.User.Photo)" width="50" class="rounded-circle mr">
                            <div class="d-flex flex-column ml-2"> <span class="font-weight-bold">@Url.Content(item.User.Fname) @Url.Content(item.User.Lname)</span> <small class="text-primary">@Html.DisplayFor(postContent => item.date)</small> </div>
                        </div>
                        <div class="d-flex flex-row mt-1 ellipsis"> <small class="mr-2"></small><a href="@Url.Action("Edit", "Profile", new {Id = item.Id})"><i class="fa fa-ellipsis-h ml"></i></a></div>
                    </div>
                    @foreach (var photo in item.PostPhotos)
                    {
                        <img src="@Url.Content(photo.pphoto)" class="img-fluid">
                    }
                    <div class="p-2">
                        <p class="text-justify">@Html.DisplayFor(postContent => item.content)</p>
                        <hr>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="d-flex flex-row icons d-flex align-items-center"> <i class="fa fa-heart mr"></i> <i class="fa fa-smile-o ml-2"></i> </div>
                            <div class="d-flex flex-row muted-color"> <span>@item.Comments.Count comment(s)</span></div>
                        </div>
                        <hr>
                        <div class="comments">
                            @foreach (var comment in item.Comments)
                            {
                                <div class="d-flex flex-row mb-2 mr">
                                    <img src="@Url.Content(comment.User.Photo)" width="40" class="rounded-image mr">
                                    <div class="d-flex flex-column ml-2">
                                        <span class="name">@comment.User.Fname @comment.User.Lname</span> <small class="comment-text">@comment.content</small>
                                        <div class="d-flex flex-row align-items-center status"> <small>Like</small> <small>Reply</small><small>@comment.Cdate</small> </div>
                                    </div>
                                </div>
                            }


                            <div class="comment-input">
                                <input type="text" class="form-control">
                                <div class="fonts"> <i class="fa fa-camera"></i> </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.content)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.date)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.User.Fname)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.Id })
        </td>
    </tr>
}

